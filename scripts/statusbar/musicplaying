#!/bin/sh

filter() {
    sed "s/Playing/ ‚ñ∂/;s/Paused/ ‚è∏/;s/Stopped/ ‚èπ/"
}

case $BLOCK_BUTTON in
    1) setsid -f "$TERMINAL" -e playerctl open ;;  # left click ‚Äî open player (does nothing for browsers usually)
    2) playerctl play-pause >/dev/null ;;         # middle click ‚Äî toggle play/pause
    3) notify-send "üéµ Music module" "$(printf '%s\n' \ '- Shows current song.' \ '- ‚è∏ when paused.' \ '- ‚ñ∂ when playing.' \ '- Middle click toggles.' \ '- Scroll changes track.' )" ;;
    4) playerctl previous >/dev/null ;;           # scroll up ‚Äî prev
    5) playerctl next >/dev/null ;;               # scroll down ‚Äî next
esac

title=$(playerctl metadata --format '{{ artist }} - {{ title }}' 2>/dev/null)
status=$(playerctl status 2>/dev/null | filter)

[ -n "$title" ] && echo "$status $title" || echo " ‚èπ No media"





